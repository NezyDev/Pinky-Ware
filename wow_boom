-- Получаем таблицу окружения текущей функции
local env = getfenv()

-- Функция для рекурсивного обхода таблицы и вывода её содержимого
local function printTable(tbl, indent)
    indent = indent or ""
    for key, value in pairs(tbl) do
        if type(value) == "table" then
            print(indent .. tostring(key) .. ":")
            printTable(value, indent .. "  ")
        else
            print(indent .. tostring(key) .. ": " .. tostring(value))
        end
    end
end

-- Выводим содержимое таблицы окружения
printTable(env)
